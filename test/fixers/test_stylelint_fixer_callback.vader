Before:
  call ale#assert#SetUpFixerTest('css', 'stylelint')

After:
  call ale#assert#TearDownFixerTest()

Execute(The stylelint callback should return the correct default values):
  call ale#test#SetFilename('../eslint-test-files/react-app/subdir/testfile.css')

  AssertFixer
  \ {
  \   'read_temporary_file': 1,
  \   'command': ale#path#CdString(expand('%:p:h'))
  \     . (has('win32') ? 'node.exe ' : '')
  \     . ale#Escape(ale#path#Simplify(g:dir . '/../eslint-test-files/react-app/node_modules/stylelint/bin/stylelint.js'))
  \     . ' %t'
  \     . ' --fix',
  \ }

Execute(The stylelint callback should include custom stylelint options):
  let g:ale_stylelint_options = '--cache'
  call ale#test#SetFilename('../eslint-test-files/react-app/subdir/testfile.css')

  AssertFixer
  \ {
  \   'read_temporary_file': 1,
  \   'command': ale#path#CdString(expand('%:p:h'))
  \     . (has('win32') ? 'node.exe ' : '')
  \     . ale#Escape(ale#path#Simplify(g:dir . '/../eslint-test-files/react-app/node_modules/stylelint/bin/stylelint.js'))
  \     . ' %t'
  \     . ' --cache'
  \     . ' --fix',
  \ }

Execute(--stdin-filename should be used when stylelint is new enough):
  let g:ale_stylelint_options = '--cache'
  call ale#test#SetFilename('../eslint-test-files/react-app/subdir/testfile.css')

  GivenCommandOutput ['6.4.0']
  AssertFixer
  \ {
  \   'command': ale#path#CdString(expand('%:p:h'))
  \     . (has('win32') ? 'node.exe ' : '')
  \     . ale#Escape(ale#path#Simplify(g:dir . '/../eslint-test-files/react-app/node_modules/stylelint/bin/stylelint.js'))
  \     . ' --stdin-filename %s'
  \     . ' --cache'
  \     . ' --fix',
  \ }


Execute(The version number should be cached):
  call ale#test#SetFilename('../eslint-test-files/react-app/subdir/testfile.css')

  GivenCommandOutput ['6.4.0']
  AssertFixer
  \ {
  \   'command': ale#path#CdString(expand('%:p:h'))
  \     . (has('win32') ? 'node.exe ' : '')
  \     . ale#Escape(ale#path#Simplify(g:dir . '/../eslint-test-files/react-app/node_modules/stylelint/bin/stylelint.js'))
  \     . ' --stdin-filename %s'
  \     . ' --cache'
  \     . ' --fix',
  \ }

  GivenCommandOutput []
  AssertFixer
  \ {
  \   'command': ale#path#CdString(expand('%:p:h'))
  \     . (has('win32') ? 'node.exe ' : '')
  \     . ale#Escape(ale#path#Simplify(g:dir . '/../eslint-test-files/react-app/node_modules/stylelint/bin/stylelint.js'))
  \     . ' --stdin-filename %s'
  \     . ' --cache'
  \     . ' --fix',
  \ }
