Before:
  call ale#assert#SetUpLinterTest('php', 'psalm')

After:
  if filereadable(g:dir . '/composer.json')
    call delete(g:dir . '/composer.json')
  endif

  call ale#assert#TearDownLinterTest()

Execute(The default executable path should be correct):
  AssertLinter 'psalm-language-server',
  \ ale#Escape('psalm-language-server')

Execute(Vendor executables should be detected):
  call ale#test#SetFilename('psalm-project/test.php')

  AssertLinter
  \ ale#path#Simplify(g:dir . '/psalm-project/vendor/bin/psalm-language-server'),
  \ ale#Escape(ale#path#Simplify(
  \   g:dir
  \   . '/psalm-project/vendor/bin/psalm-language-server'
  \ ))

Execute(The project path should be correct for composer.json file):
  call ale#test#SetFilename('psalm-project/test.php')
  call system('touch ' . g:dir . '/composer.json')

  AssertLSPProject g:dir
